.overlay-active .extension-container,
.overlay-active .hover-display {
  display: none !important;
}

.video-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 10000;
  pointer-events: none;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  -webkit-font-smoothing: antialiased;
}

.video-container {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 10;
  overflow: hidden;
}

.overlay-hidden .video-container > * {
  display: none;
}

.tower {
  opacity: 1;
  border: 1px dashed rgba(0,0,0, 0.5);
  z-index: 10000;
  position: absolute;
  pointer-events: all;
  border-radius: 2px;
  transition: border-color 0.2s;
  overflow: hidden;
}

.tower:hover {
  z-index: 20000;
  overflow: visible;
}

.command-wrapper,
.command-wrapper * {
  pointer-events: all;
}

.command-wrapper {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  opacity: 0;
}

.tower:hover .command-wrapper {
  opacity: 1;
}

.player .command-wrapper__tower-number {
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  padding: 5px 10px;
  border-top-left-radius: 2px;
  border-top-right-radius: 2px;
  background: rgba(255, 255, 255, 0.8);
  font-weight: bold;
  color: #000000eb;
  font-size: 10px;
}

[data-command="!altar"] .command-wrapper__tower-number,
[data-command="!train"] .command-wrapper__tower-number {
  display: none;
}

.command-wrapper__move {
  display: flex;
  flex-wrap: wrap;
  border-top: 1px solid #696969;
}

.command-wrapper--2 .command-wrapper__move {
  min-width: 60px;
}

.command-wrapper--3 .command-wrapper__move {
  min-width: 100px;
}

.command-wrapper__move:first-child {
  border-top: 0;
}

.player .command-wrapper__move__button {
  background: rgba(0,0,0, 0.9);
  border-right: 1px solid #696969;
  cursor: pointer;
  white-space: nowrap;
  color: #e9ede1;
  font-weight: bold;
  font-size: 9px;
  padding: 7px 10px;
  transition: background 0.2s;
  outline: none;
  flex-grow: 1;
  width: 50%;
  text-align: center;
}

.highpriest-active,
.highpriest-active .command-wrapper__move,
.highpriest-active .command-wrapper__move__button {
  width: auto;
  height: auto;
}

.highpriest-active .command-wrapper__move,
.highpriest-active .command-wrapper__move__button {
  opacity: 1;
}

.highpriest-active .command-wrapper__move__button {
  content: 'Move here';
}

.command-wrapper--3 .command-wrapper__move__button {
  width: 33.3333333%;
}

.command-wrapper--3 .command-wrapper__move .command-wrapper__move__button:nth-child(-n + 3) {
  border-bottom: 1px solid #696969;
}

.command-wrapper--3 .command-wrapper__move__button:nth-child(3n) {
  border-right: 0;
}

.player .command-wrapper--2 .command-wrapper__move__button:nth-child(2) {
  border-right: 0;
}

.player .highpriest-active.command-wrapper--2 .command-wrapper__move__button:nth-child(2) {
  border-right: 1px solid #696969;
}

.player [data-command="!altar"] .highpriest-active.command-wrapper--2 .command-wrapper__move__button:nth-child(2) {
  border-right: 0;
}

.player .move-all {
  border-top: 1px solid #696969;
  border-bottom: 0;
  width: 100%;
}

.player .highpriest-active .move-all {
  width: auto;
}

.player .command-wrapper--2.highpriest-active .move-all {
  border-top: 0;
}

.player [data-command="!altar"] .move-all {
  border-top: 1px solid #696969 !important;
}

.player .command-wrapper__move__button:last-child {
  border-right: 0;
}

.player .command-wrapper__move__button:hover {
  background: #323232;
}

.video-container--hide-dashes .tower {
  border-color: transparent;
}

.video-wrapper__img {
  object-fit: contain;
  max-width: 100%;
  max-height: 100%;
  opacity: 0;
}

[data-command="!train"] .highpriest-active {
  transform: translateY(-50%);
  left: auto;
  right: -1px;
}

/* ---------------- */
/* Overlay selector */
/* ---------------- */

.selector {
  width: 22.4%;
  height: 8.348135%;
  position: absolute;
  bottom: 0%;
  right: 0%;
  border-top-left-radius: 2px;
  border-bottom-left-radius: 2px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10050;
  pointer-events: all;
}

.selector svg {
  width: 80%;
  height: 80%;
}

.selector:hover {
  border-radius: 0;
}

.selector__popout {
  display: flex;
  position: absolute;
  bottom: 100%;
  right: -5px;
  border-top-right-radius: 2px;
  border-top-left-radius: 2px;
  border-bottom-left-radius: 2px;
  flex-direction: column;
  background: rgba(0,0,0, 0.9);
  transform: translateX(100%);
  transition: transform 0.2s;
  min-width: 100%;
}

.selector:hover .selector__popout {
  transform: translateX(0);
}

.player .selector__popout__item {
  white-space: nowrap;
  border-top: 1px solid #696969;
  outline: none;
  color: #e9ede1;
  font-weight: bold;
  font-size: 11px;
  padding: 9px 12px;
  transition: background 0.2s, border-color 0.2s;
}

.selector__popout__item:first-child {
  border-top: 0;
}

.selector__popout__item:hover {
  background: #323232;
}

.player .selector__popout__item--active {
  border-color: #256527;
  background: #256527;
}

.player .selector__popout__item--active + .selector__popout__item {
  border-color: #256527;
}

.player .selector__popout__option {
  outline: none;
  color: #e9ede1;
  font-weight: bold;
  font-size: 11px;
  padding: 9px 12px;
  cursor: pointer;
}

.player .selector__popout__option:hover {
  background: #323232;
}

.player .selector__popout__option input {
  margin-right: 10px;
}

/* ---------------- */
/* Overlay selector */
/* ---------------- */

.custom-actions {
  width: 6%;
  height: 10%;
  position: absolute;
  top: 76%;
  right: 0%;
  background: rgba(0,0,0, 0.9);
  border-bottom-left-radius: 2px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10040;
  pointer-events: all;
}

.custom-actions svg {
  width: 50%;
  max-width: 24px;
}

.custom-actions:hover {
  border-radius: 0;
}

.custom-actions__popout {
  display: block;
  position: absolute;
  bottom: 0;
  right: -5px;
  border-top-left-radius: 2px;
  border-bottom-left-radius: 2px;
  min-width: 60px;
  transform: translateX(100%);
  transition: transform 0.2s;
}

.custom-actions:hover .custom-actions__popout {
  transform: translateX(0);
}

.custom-actions__list {
  display: flex;
  flex-direction: column;
  background: #323232;
}

.custom-actions__list__item {
  white-space: nowrap;
  border-bottom: 1px solid #000000;
  outline: none;
  color: #e9ede1;
  font-weight: bold;
  font-size: 11px;
  position: relative;
}

.custom-actions__list__item:last-child {
  border-bottom: 0;
}

.player .custom-actions__list__item__trigger {
  transition: background 0.2s;
  padding: 9px 12px;
  width: 100%;
  outline: none;
}

.custom-actions__list__item__trigger:hover {
  background: #505050;
}

.player .custom-actions__list__item__remove {
  border-right: 1px solid #000000;
  border-bottom: 1px solid #000000;
  padding: 6px;
  height: calc(100% + 1px);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 0;
  flex-shrink: 0;
  transition: background 0.2s;
  position: absolute;
  top: 0;
  right: 100%;
  background: #323232;
  transform: translateX(100%);
  transition: transform 0.2s;
  outline: none;
}

.player .custom-actions__list__item:last-child .custom-actions__list__item__remove {
  border-bottom: 0;
  height: 100%;
}

.custom-actions:hover .custom-actions__list__item__remove {
  transform: translateX(0);
}

.custom-actions__list__item__remove:hover {
  background: #505050;
}

.player .custom-actions__form__input {
  width: 100%;
  border: 0;
  background: #e9ede2;
  color: #000000;
  display: block;
  padding: 9px;
  font-size: 11px;
  outline: none;
}

.player .custom-actions__form__button {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 10px;
  color: #e9ede2;
  background: rgba(0,0,0, 0.9);
  transition: background 0.2s;
  font-size: 12px;
  font-weight: bold;
  outline: none;
}

.custom-actions__form__button:hover {
  background: #323232;
}

/* ------------- */
/* Power buttons */
/* ------------- */

.power-buttons {
  width: 24.2%;
  height: 7.8152753%;
  position: absolute;
  bottom: -2px; /* Odd aspect ratios sometimes cause the buttons to sit a big higher, 2px below the screen for good measure */
  left: 53.2%;
  z-index: 10050;
  border-top-left-radius: 2px;
  border-top-right-radius: 2px;
  display: flex;
  flex-wrap: wrap;
}

.power-buttons__item {
  width: 50%;
  height: 100%;
  border-left: 1px solid #757477;
}

.power-buttons__item:first-child {
  border-left: 0;
}

.player .power-buttons__item__all {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #e9ede1;
  font-weight: bold;
  font-size: 11px;
  cursor: pointer;
  pointer-events: all;
  transition: background 0.2s;
  outline: none;
  background: #020203;
  position: relative;
  z-index: 10;
}

.player .power-buttons__item__all:hover {
  background: #323232;
}

.power-buttons__classes {
  display: none;
  position: absolute;
  bottom: 100%;
  left: 0;
  background: #020203;
  width: 50%;
  border-bottom: 1px solid rgba(255,255,255, 0.4);
  flex-wrap: wrap;
  pointer-events: all;
  background: rgba(0,0,0, 0.9);
  z-index: 5;
  transform: translateY(500%);
  opacity: 0;
}

.power-buttons__classes--2,
.power-buttons__classes--3 {
  display: flex;
}

.power-buttons__item:first-child .power-buttons__classes {
  width: calc(50% + 1px);
}

.power-buttons__item:hover .power-buttons__classes {
  transform: translateY(0);
  opacity: 1;
}

.power-buttons__item:last-child .power-buttons__classes {
  right: 0;
  left: auto;
}

.player .power-buttons__classes__item {
  flex-grow: 1;
  text-transform: uppercase;
  border-left: 1px solid rgba(255,255,255, 0.4);
  padding: 7px 10px;
  text-align: center;
  transition: background 0.2s;
  cursor: pointer;
  font-weight: bold;
  width: 50%;
  outline: none;
}

.player .power-buttons__classes__item:hover {
  background: #323232;
}

.power-buttons__classes__item:first-child {
  border-left: 0;
}

.power-buttons__classes--3 .power-buttons__classes__item {
  width: 33.333333%;
}

.power-buttons__classes--3 .power-buttons__classes__item:nth-child(-n + 3) {
  border-bottom: 1px solid rgba(255,255,255, 0.4);
}

.power-buttons__classes--3 .power-buttons__classes__item:nth-child(3n + 1) {
  border-left: 0;
}

/* ------------ */
/* Merc buttons */
/* ------------ */

.merc-buttons {
  width: 20%;
  height: 7.8152753%;
  position: absolute;
  bottom: 0;
  left: 12.6%;
  pointer-events: all;
}

.merc-buttons__container {
  transform: translateY(101%);
  width: 100%;
  height: 100%;
  background: rgba(0,0,0, 0.9);
  z-index: 10050;
  border-top-left-radius: 2px;
  border-top-right-radius: 2px;
  display: flex;
  flex-wrap: wrap;
  transition: transform 0.2s;
}

.merc-buttons:hover .merc-buttons__container {
  transform: translateY(0);
}

.player button.merc-buttons__item {
  width: 25%;
  display: flex;
  align-items: center;
  justify-content: center;
  border-top: 1px solid rgba(255,255,255, 0.4);
  border-left: 1px solid rgba(255,255,255, 0.4);
  color: #e9ede1;
  font-weight: bold;
  font-size: 10px;
  cursor: pointer;
  pointer-events: all;
  transition: background 0.2s;
}

.player button.merc-buttons__item:nth-child(-n + 4) {
  border-top: 0;
}

.player button.merc-buttons__item:nth-child(4n + 1) {
  border-left: 0;
}

.merc-buttons__item:hover {
  background: #323232;
}

/* ------------ */
/* Class buttons */
/* ------------ */

.class-buttons {
  min-width: 7.5%;
  height: 54.7069272%;
  position: absolute;
  top: 10.4795737%;
  left: 0;
  pointer-events: all;
  z-index: 10050;
}

.class-buttons__container {
  transform: translateX(-101%);
  background: rgba(0,0,0, 0.9);
  width: 100%;
  height: 100%;
  border-top-right-radius: 2px;
  border-bottom-right-radius: 2px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  transition: transform 0.2s;
}

.class-buttons:hover .class-buttons__container {
  transform: translateX(0);
}

.class-buttons__item {
  width: 100%;
  height: 14.2857143%;
  display: flex;
  align-items: stretch;
  justify-content: stretch;
  color: #e9ede1;
  font-weight: bold;
  font-size: 10px;
  cursor: pointer;
  pointer-events: all;
  height: 100%;
  position: relative;
  outline: none;
  transition: background 0.2s;
}

.class-buttons__item:hover {
  background: #323232;
}

.player .class-buttons__item__button {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  outline: none;
  padding: 0 10px;
  border-top: 1px solid rgba(255,255,255, 0.4);
  transition: border-color 0.2s, background 0.2s;
  position: relative;
}

.player .class-buttons__item__button--active {
  background: #256527;
  border-color: #000;
}

.player .class-buttons__item__button:after {
  content: '';
  position: absolute;
  top: 100%;
  left: 0;
  width: 100%;
  height: 1px;
  background: #000;
  z-index: 10;
  opacity: 0;
  transition: opacity 0.2s;
}

.player .class-buttons__item__button--active:after {
  opacity: 1;
}

.class-buttons__item:first-child .class-buttons__item__button {
  border-top: 0;
}

.spec {
  position: absolute;
  top: 0;
  left: 100%;
  border-top-right-radius: 2px;
  border-bottom-right-radius: 2px;
  border-left: 5px solid #696a6a;
  display: none;
  flex-direction: column;
  background: #323232;
}

.class-buttons__item:hover .spec {
  display: flex;
}

.player .spec__item {
  border-top: 1px solid rgba(255,255,255, 0.4);
  padding: 9px 12px;
  display: block;
  transition: background 0.2s;
  white-space: nowrap;
  outline: none;
}

.spec__item:first-child {
  border-top: 0;
}

.spec__item:hover {
  background: #505050;
}

/* ------------ */
/* Account List */
/* ------------ */

.account-list {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 11.9%;
  height: 24.6891652%;
  pointer-events: all;
  z-index: 10050;
}

.account-list__container {
  position: absolute;
  bottom: 0;
  left: 0;
  min-width: 100%;
  min-height: 100%;
  background: rgba(0,0,0, 0.9);
  border-top-right-radius: 2px;
  display: flex;
  flex-direction: column;
  color: #e9ede1;
  font-weight: bold;
  font-size: 10px;
  transform: translateX(-101%);
  transition: transform 0.2s;
}

.account-list:hover .account-list__container {
  transform: translateX(0);
}

.player .account-list__title {
  padding: 8px 10px;
}

.player button.account-list__item {
  display: flex;
  align-items: center;
  border-top: 1px solid black;
  cursor: pointer;
  flex-shrink: 0;
  background: #323232;
  outline: none;
}

.player button.account-list__item--active {
  background: #256527;
}

.player .account-list__item__connection {
  margin-right: 6px;
  display: flex;
  align-items: center;
  border-right: 1px solid black;
  padding: 8px;
}

.account-list__item--active .account-list__item__connection {
  background: #323232;
}

.account-list__item__connection svg {
  width: 12px;
  height: 12px;
  fill: red;
}

.connected .account-list__item__connection svg {
  fill: greenyellow;
}

.player .account-list__item__name {
  display: flex;
  align-items: center;
  padding: 6px 12px 6px 4px;
}

/* ------------------- */
/* Leave and Reconnect */
/* ------------------- */

.leave {
  position: absolute;
  top: 0;
  left: 0;
  width: 10.9%;
  height: 11.9005329%;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  pointer-events: all;
  border-bottom-right-radius: 2px;
  overflow: hidden;
  background: #020203;
  display: none;
}

.player .leave__button {
  border: 0;
  background: transparent;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s;
  color: #e9ede2;
  height: 100%;
  cursor: pointer;
  font-weight: bold;
  font-size: 10px;
  outline: none;
}

.leave__button:hover {
  background: #323232;
}

.leave__button + .leave__button {
  border-bottom: 1px solid #848484;
}

/* ------ */
/* TTDBot */
/* ------ */

.ttdbot {
  position: absolute;
  top: 0;
  left: 44.5%;
  width: 11%;
  height: 7.2824156%;
  pointer-events: all;
}

.ttdbot__dropdown {
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(-150%);
  background: rgba(0,0,0, 0.9);
  display: flex;
  flex-wrap: wrap;
  justify-content: stretch;
  width: 210%;
  transition: transform 0.4s;
  pointer-events: none;
  z-index: 10040;
}

.ttdbot:hover .ttdbot__dropdown {
  transform: translateX(-50%) translateY(0);
  pointer-events: all;
}

.player .ttdbot__dropdown__button {
  white-space: nowrap;
  border: 0;
  border-top: 1px solid #696969;
  outline: none;
  color: #e9ede1;
  font-weight: bold;
  font-size: 11px;
  padding: 9px 12px;
  width: 50%;
  cursor: pointer;
}

.player .ttdbot__dropdown__button:nth-child(-n+2) {
  border-top: 0;
}

.player .ttdbot__dropdown__button:nth-child(2n + 2) {
  border-left: 1px solid #696969;
}

.player .ttdbot__dropdown__button:hover {
  background: #323232;
}

/* ----------------- */
/* Toggle visibility */
/* ----------------- */

.player .toggle-visibility {
  width: 6%;
  height: 10%;
  position: absolute;
  top: calc(66% + 1px); /* 1px to make up for odd aspect ratios */
  right: 0%;
  background: rgba(0,0,0, 0.9);
  border-top-left-radius: 2px;
  border-bottom-left-radius: 2px;
  cursor: pointer;
  display: flex !important;
  align-items: center;
  justify-content: center;
  z-index: 10030;
  pointer-events: all;
  outline: none;
  transition: background 0.2s;
}

.player .toggle-visibility:hover {
  background: #323232;
}

.overlay-hidden .toggle-visibility__icon-hide {
  display: none;
}

.toggle-visibility__icon-show {
  display: none;
}

.overlay-hidden .toggle-visibility__icon-show {
  display: block;
}

.overlay-active .player .toggle-visibility {
  border-bottom: 1px solid #757477;
  border-bottom-left-radius: 0;
}

.player .toggle-visibility svg {
  width: 40%;
  max-width: 24px;
}

.player .toggle-visibility:hover {
  border-radius: 0;
}