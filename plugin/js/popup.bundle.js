!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=n(1);var r=function(e){this.userName=e.user,this.pass=e.pass,this.element=null,this.rendered=!1;const t=this;this.template=function(){const e=document.createElement("div");return e.classList.add("users__item"),e.classList.add("users__item--account"),e.innerHTML=`\n        <div>\n          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>\n            <path d="M0 0h24v24H0z" fill="none"/>\n          </svg>    \n        </div>\n        <div class="users__item__name">${this.userName}</div>\n        <div class="users__item__remove">\n          <button class="users__item__button" data-button="remove-user">\n            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n              <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n              <path d="M0 0h24v24H0z" fill="none"/>\n            </svg>\n          </button>\n        </div>\n      `,e},this.init=function(){this.element=this.template(),this.buttonFunctionality()},this.buttonFunctionality=function(){this.element.querySelector('[data-button="remove-user"]').addEventListener("click",function(){d(t.userName)})},this.render=function(e){this.rendered=!0,e.prepend(this.element)},this.init()};const c=document.querySelector('[data-section="add-account"]'),s=function(){c.classList.toggle("section-hidden"),c.querySelector('[data-field="username"]').focus()},u=function(){const e=c.querySelectorAll("input");for(let t=0;t<e.length;t++)e[t].value="";s()},i=function(){const e=window.controller.users;Object.keys(e).map(t=>{e[t].rendered||e[t].render(window.controller.userList)})},a=function(){const e=window.controller.users;let t={};return Object.keys(e).map(n=>{t[n]={user:e[n].userName,pass:e[n].pass}}),t},d=function(e){const t=window.controller.users;t[e].element.remove(),delete t[e],Object(o.c)("users",a(t),i)};window.controller={userList:document.querySelector(".users"),users:{},connected:!1},Object(o.a)("users",function(e,t){let n=window.controller.users;Object.keys(e).map(o=>{n[o]=new r(e[o]),n[o].render(t)})},window.controller.userList),chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.tabs.sendMessage(e[0].id,{action:"checkStatus"},function(e){const t=document.querySelector('[data-button="connect"]');e.status?(window.controller.connected=!0,t.innerHTML="Disconnect"):(window.controller.connected=!1,t.innerHTML="Connect")})}),document.querySelector('[data-button="add-account"]').addEventListener("click",s),document.querySelector('[data-button="add-user"]').addEventListener("click",function(e){e.preventDefault();const t=window.controller.users,n=document.querySelector('[data-field="username"]'),o=document.querySelector('[data-field="pass"]');let c=!1;if(Object.keys(t).length&&Object.keys(t).map(e=>{t[e].userName===n.value&&(c=!0)}),c)return console.log("User already exists!"),void u();t[n.value]=new r({user:n.value,pass:o.value}),chrome.storage.sync.set({users:a()},function(){i(),u()})}),document.querySelector('[data-button="connect"]').addEventListener("click",function(){window.controller.connected?Object(o.b)({action:"disconnect"}):Object(o.b)({action:"connect"}),window.close()})},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return c});const o=function(e,t,n){chrome.storage.sync.get(e,function(o){o[e]&&t(o[e],n)})},r=function(e,t,n){const o={};o[e]=t,chrome.storage.sync.set(o,n)},c=function(e){chrome.tabs.query({active:!0,currentWindow:!0},function(t){chrome.tabs.sendMessage(t[0].id,e,function(e){})})}}]);